/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/key_screen/KeyViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

KeyViewBase::KeyViewBase() :
    buttonCallback(this, &KeyViewBase::buttonCallbackHandler)
{

    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    background.setXY(0, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_DARK_BACKGROUNDS_MAIN_BG_TEXTURE_480X272PX_ID));

    header.setPosition(0, 0, 480, 50);

    headerBackground.setPosition(0, 0, 480, 50);
    headerBackground.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    headerBackground.setAlpha(68);
    header.add(headerBackground);

    clock.setPosition(0, 13, 100, 25);
    clock.setColor(touchgfx::Color::getColorFromRGB(14, 237, 237));
    clock.setTypedText(touchgfx::TypedText(T___SINGLEUSE_UR01));
    clock.displayLeadingZeroForHourIndicator(false);
    clock.setDisplayMode(touchgfx::DigitalClock::DISPLAY_24_HOUR_NO_SECONDS);
    clock.setTime24Hour(9, 41, 0);
    header.add(clock);

    nameOfPage.setXY(204, 10);
    nameOfPage.setColor(touchgfx::Color::getColorFromRGB(14, 237, 237));
    nameOfPage.setLinespacing(0);
    nameOfPage.setTypedText(touchgfx::TypedText(T___SINGLEUSE_JPZX));
    header.add(nameOfPage);

    textHelp.setXY(143, 90);
    textHelp.setColor(touchgfx::Color::getColorFromRGB(14, 237, 237));
    textHelp.setLinespacing(0);
    textHelp.setTypedText(touchgfx::TypedText(T___SINGLEUSE_C7KP));

    buttonToUnlock.setXY(155, 150);
    buttonToUnlock.setBitmaps(touchgfx::Bitmap(BITMAP_DARK_BUTTONS_ROUND_EDGE_SMALL_ID), touchgfx::Bitmap(BITMAP_DARK_BUTTONS_ROUND_EDGE_SMALL_PRESSED_ID));
    buttonToUnlock.setAction(buttonCallback);

    buttonBack.setXY(0, 236);
    buttonBack.setBitmaps(touchgfx::Bitmap(BITMAP_BACK_ID), touchgfx::Bitmap(BITMAP_BACK_ID));
    buttonBack.setAction(buttonCallback);

    add(__background);
    add(background);
    add(header);
    add(textHelp);
    add(buttonToUnlock);
    add(buttonBack);
}

void KeyViewBase::setupScreen()
{

}

void KeyViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &buttonToUnlock)
    {
        //toHome
        //When buttonToUnlock clicked change screen to Home
        //Go to Home with screen transition towards West
        application().gotoHomeScreenSlideTransitionWest();
    }
    else if (&src == &buttonBack)
    {
        //returnHome
        //When buttonBack clicked change screen to Home
        //Go to Home with screen transition towards West
        application().gotoHomeScreenSlideTransitionWest();
    }
}
